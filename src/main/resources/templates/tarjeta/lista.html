<!DOCTYPE html>

<html xmlns:th="https://www.thymeleaf.org" 
    th:replace="~{fragments/layout :: layout (~{::body},'tarjeta')}">

<body>
 
    <div class="container">

        <h5>Mis tarjetas</h5>

        <table class="table">

            <thead>
                <tr>
                    <th></th>
                    <th>Número</th>
                    <th>Válida hasta</th>
                    <th>Saldo</th>
                    <th></th>
                </tr>
            </thead>

            <tbody>
                <tr th:each="tarjeta : ${listaTarjetas}">
                    <td>
                        <th:block th:if="${tarjeta.tipo == 'V'}">
                            <img src = "/img/visa-logo.png" width="48px" height="27px">
                        </th:block>
                        <th:block th:if="${tarjeta.tipo == 'M'}">
                            <img src = "/img/master-card-logo.png" width="48px" height="27px">
                        </th:block>
                    </td>
                    <td th:text = "${tarjeta.credenciales}"></td>
                    <td th:text = "${#dates.format(tarjeta.dueDate, 'MM/yyyy')}"></td>
                    <td th:text = "${tarjeta.moneda == 'PEN'} ? 'S/. ' + ${tarjeta.saldo} : '$ ' + ${tarjeta.saldo}"></td>
                    <td><a th:href = "@{'/tarjeta/ver/__${tarjeta.id}__'}" class="btn" style="background-color:purple; color:white;">Ver</a></td>
                </tr>
            </tbody>
            
        </table>


    </div>

</body>

</html>